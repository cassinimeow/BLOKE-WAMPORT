<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>BLOKE WAMPORT</title>
        <link rel="icon" type="image/png" href="homepage_assets/images/icon.png" />
        <link rel="stylesheet" href="homepage.css" />
    </head>
    <body>
        <div class="background"></div>

        <!-- PLAY SCREEN -->
        <div id="play-screen">
            <div class="play-content">
                <div class="logo-container">
                    <img src="homepage_assets/images/group_logo.png" alt="Logo" class="play-logo" />
                    <div class="splash-text" id="splash"></div>
                </div>
                <p class="group-desc">
                    We are BLOKE WAMPORT — a creative group of students who love games, coding, and crafting ideas into
                    reality.<br />
                    Click a card → flip → use arrows to explore!
                </p>
                <button id="play-btn"><span class="btn-text">PLAY</span></button>
            </div>
        </div>

        <!-- CARDS ONLY -->
        <div id="cards-container" class="hidden">
            <main class="content">
                <ul class="members">
                    <!-- ALL 6 <li> CARDS HERE -->
                </ul>
            </main>
        </div>

        <main class="content">
            <img src="homepage_assets/images/group_logo.png" alt="Group Logo" class="logo" />
            <p>
                We are BLOKE WAMPORT — a creative group of students who love games, coding, and crafting ideas into
                reality. Hover a card → flip → use arrows to explore!
            </p>

            <ul class="members">
                <!-- ==================== Rymette ==================== -->
                <li>
                    <div class="flip-container">
                        <div class="front">
                            <img
                                src="homepage_assets/images/rymette_pfp.jpg"
                                alt="Rymette"
                                class="member-photo"
                                data-flip
                            />
                            <h3>Hi, I'm Rymette!</h3>
                            <p class="quote">"T*ngin* lalaaa!"</p>
                        </div>

                        <div class="back">
                            <div class="back-content">
                                <div class="image-container">
                                    <img
                                        src="homepage_assets/images/rymette_hobbies.png"
                                        class="back-image active"
                                        data-index="0"
                                    />
                                    <img
                                        src="homepage_assets/images/rymette_goals.png"
                                        class="back-image"
                                        data-index="1"
                                    />
                                    <img
                                        src="homepage_assets/images/rymette_favorites.png"
                                        class="back-image"
                                        data-index="2"
                                    />
                                </div>

                                <div class="fade-gradient"></div>

                                <div class="back-text">
                                    <div class="carousel">
                                        <button class="arrow left">&lt;</button>
                                        <div class="slide-container">
                                            <div class="slide active" data-index="0">
                                                <h2>Hobbies</h2>
                                                <p>Gaming, digital art, music.</p>
                                            </div>
                                            <div class="slide" data-index="1">
                                                <h2>Goals</h2>
                                                <p>Finish a full indie game.</p>
                                            </div>
                                            <div class="slide" data-index="2">
                                                <h2>Favorite Websites</h2>
                                                <p>itch.io, DeviantArt, Spotify</p>
                                            </div>
                                        </div>
                                        <button class="arrow right">&gt;</button>
                                    </div>
                                    <div class="dots">
                                        <span class="dot active" data-index="0">•</span>
                                        <span class="dot" data-index="1">•</span>
                                        <span class="dot" data-index="2">•</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>

                <!-- ==================== John Mark ==================== -->
                <li>
                    <div class="flip-container">
                        <div class="front">
                            <img src="homepage_assets/images/jm_pfp.jpg" alt="JM" class="member-photo" data-flip />
                            <h3>Hi, I'm John Mark!</h3>
                            <p class="quote">"Salamat na lang sa lahat."</p>
                        </div>

                        <div class="back">
                            <div class="back-content">
                                <div class="image-container">
                                    <img
                                        src="homepage_assets/images/jm_hobbies.png"
                                        class="back-image active"
                                        data-index="0"
                                    />
                                    <img src="homepage_assets/images/jm_goals.png" class="back-image" data-index="1" />
                                    <img
                                        src="homepage_assets/images/jm_favorites.png"
                                        class="back-image"
                                        data-index="2"
                                    />
                                </div>

                                <div class="fade-gradient"></div>

                                <div class="back-text">
                                    <div class="carousel">
                                        <button class="arrow left">&lt;</button>
                                        <div class="slide-container">
                                            <div class="slide active" data-index="0">
                                                <h2>Hobbies</h2>
                                                <p>Chess, Street Photography, and Basketball.</p>
                                            </div>
                                            <div class="slide" data-index="1">
                                                <h2>Goals</h2>
                                                <p>Be a Game Developer.</p>
                                            </div>
                                            <div class="slide" data-index="2">
                                                <h2>Favorite Websites</h2>
                                                <p>Letterbox amd Stats.fm.</p>
                                            </div>
                                        </div>
                                        <button class="arrow right">&gt;</button>
                                    </div>
                                    <div class="dots">
                                        <span class="dot active" data-index="0">•</span>
                                        <span class="dot" data-index="1">•</span>
                                        <span class="dot" data-index="2">•</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>

                <!-- ==================== Jhon Rey ==================== -->
                <li>
                    <div class="flip-container">
                        <div class="front">
                            <img src="homepage_assets/images/jr_pfp.jpg" alt="JR" class="member-photo" data-flip />
                            <h3>Hi, I'm Jhon Rey!</h3>
                            <p class="quote">"Don't let the "bad guy" get a kill that they didn't earn."</p>
                        </div>

                        <div class="back">
                            <div class="back-content">
                                <div class="image-container">
                                    <img
                                        src="homepage_assets/images/jr_hobbies.png"
                                        class="back-image active"
                                        data-index="0"
                                    />
                                    <img src="homepage_assets/images/jr_goals.png" class="back-image" data-index="1" />
                                    <img
                                        src="homepage_assets/images/jr_favorites.png"
                                        class="back-image"
                                        data-index="2"
                                    />
                                </div>

                                <div class="fade-gradient"></div>

                                <div class="back-text">
                                    <div class="carousel">
                                        <button class="arrow left">&lt;</button>
                                        <div class="slide-container">
                                            <div class="slide active" data-index="0">
                                                <h2>Hobbies</h2>
                                                <p>Competitive FPS, strategy games.</p>
                                            </div>
                                            <div class="slide" data-index="1">
                                                <h2>Goals</h2>
                                                <p>Win a national esports tournament.</p>
                                            </div>
                                            <div class="slide" data-index="2">
                                                <h2>Favorite Websites</h2>
                                                <p>Twitch, HLTV, Discord</p>
                                            </div>
                                        </div>
                                        <button class="arrow right">&gt;</button>
                                    </div>
                                    <div class="dots">
                                        <span class="dot active" data-index="0">•</span>
                                        <span class="dot" data-index="1">•</span>
                                        <span class="dot" data-index="2">•</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>

                <!-- ==================== Johann ==================== -->
                <li>
                    <div class="flip-container">
                        <div class="front">
                            <img
                                src="homepage_assets/images/dinaya_pfp.jpg"
                                alt="Johann"
                                class="member-photo"
                                data-flip
                            />
                            <h3>Hi, I'm Johann!</h3>
                            <p class="quote">"The hardest choices require the strongest wills."</p>
                        </div>

                        <div class="back">
                            <div class="back-content">
                                <div class="image-container">
                                    <img
                                        src="homepage_assets/images/dinaya_hobbies.png"
                                        class="back-image active"
                                        data-index="0"
                                    />
                                    <img
                                        src="homepage_assets/images/dinaya_goals.png"
                                        class="back-image"
                                        data-index="1"
                                    />
                                    <img
                                        src="homepage_assets/images/dinaya_favorites.png"
                                        class="back-image"
                                        data-index="2"
                                    />
                                </div>

                                <div class="fade-gradient"></div>

                                <div class="back-text">
                                    <div class="carousel">
                                        <button class="arrow left">&lt;</button>
                                        <div class="slide-container">
                                            <div class="slide active" data-index="0">
                                                <h2>Hobbies</h2>
                                                <p>Playing basketball and video games.</p>
                                            </div>
                                            <div class="slide" data-index="1">
                                                <h2>Goals</h2>
                                                <p>Work in a office and build a small aquarium business.</p>
                                            </div>
                                            <div class="slide" data-index="2">
                                                <h2>Favorite Websites</h2>
                                                <p>9Anime and YouTube.</p>
                                            </div>
                                        </div>
                                        <button class="arrow right">&gt;</button>
                                    </div>
                                    <div class="dots">
                                        <span class="dot active" data-index="0">•</span>
                                        <span class="dot" data-index="1">•</span>
                                        <span class="dot" data-index="2">•</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>

                <!-- ==================== Russel ==================== -->
                <li>
                    <div class="flip-container">
                        <div class="front">
                            <img
                                src="homepage_assets/images/russel_pfp.jpg"
                                alt="Russel"
                                class="member-photo"
                                data-flip
                            />
                            <h3>Hi, I'm Russel!</h3>
                            <p class="quote">"Every win's for my momma. Always."</p>
                        </div>

                        <div class="back">
                            <div class="back-content">
                                <div class="image-container">
                                    <img
                                        src="homepage_assets/images/russel_hobbies.png"
                                        class="back-image active"
                                        data-index="0"
                                    />
                                    <img
                                        src="homepage_assets/images/russel_goals.png"
                                        class="back-image"
                                        data-index="1"
                                    />
                                    <img
                                        src="homepage_assets/images/russel_favorites.png"
                                        class="back-image"
                                        data-index="2"
                                    />
                                </div>

                                <div class="fade-gradient"></div>

                                <div class="back-text">
                                    <div class="carousel">
                                        <button class="arrow left">&lt;</button>
                                        <div class="slide-container">
                                            <div class="slide active" data-index="0">
                                                <h2>Hobbies</h2>
                                                <p>Travelling, eating local foods, and playing MOBA games.</p>
                                            </div>
                                            <div class="slide" data-index="1">
                                                <h2>Goals</h2>
                                                <p>My goal is to build a successful career.</p>
                                            </div>
                                            <div class="slide" data-index="2">
                                                <h2>Favorite Websites</h2>
                                                <p>Facebook, Instagram, and Netflix.</p>
                                            </div>
                                        </div>
                                        <button class="arrow right">&gt;</button>
                                    </div>
                                    <div class="dots">
                                        <span class="dot active" data-index="0">•</span>
                                        <span class="dot" data-index="1">•</span>
                                        <span class="dot" data-index="2">•</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>

                <!-- ==================== Elizander ==================== -->
                <li>
                    <div class="flip-container">
                        <div class="front">
                            <img
                                src="homepage_assets/images/eli_pfp.jpg"
                                alt="Elizander"
                                class="member-photo"
                                data-flip
                            />
                            <h3>Hi, I'm Elizander!</h3>
                            <p class="quote">"Normal lang yan sa abnormal."</p>
                        </div>

                        <div class="back">
                            <div class="back-content">
                                <div class="image-container">
                                    <img
                                        src="homepage_assets/images/eli_hobbies.png"
                                        class="back-image active"
                                        data-index="0"
                                    />
                                    <img src="homepage_assets/images/eli_goals.png" class="back-image" data-index="1" />
                                    <img
                                        src="homepage_assets/images/eli_favorites.png"
                                        class="back-image"
                                        data-index="2"
                                    />
                                </div>

                                <div class="fade-gradient"></div>

                                <div class="back-text">
                                    <div class="carousel">
                                        <button class="arrow left">&lt;</button>
                                        <div class="slide-container">
                                            <div class="slide active" data-index="0">
                                                <h2>Hobbies</h2>
                                                <p>Games and Watching Movies or Anime.</p>
                                            </div>
                                            <div class="slide" data-index="1">
                                                <h2>Goals</h2>
                                                <p>Learn Networking Concepts and be a Network Engineer.</p>
                                            </div>
                                            <div class="slide" data-index="2">
                                                <h2>Favorite Websites</h2>
                                                <p>ChatGPT, GitHub, and YouTube.</p>
                                            </div>
                                        </div>
                                        <button class="arrow right">&gt;</button>
                                    </div>
                                    <div class="dots">
                                        <span class="dot active" data-index="0">•</span>
                                        <span class="dot" data-index="1">•</span>
                                        <span class="dot" data-index="2">•</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
        </main>

        <audio id="click-sound" src="homepage_assets/sounds/click.ogg" preload="auto"></audio>

        <!-- Image Modal -->
        <div id="image-modal" class="modal">
            <span class="modal-close">&times;</span>
            <img class="modal-content" id="modal-image" src="" alt="" />
            <div id="modal-caption"></div>
        </div>

        <!-- AUDIO -->
        <audio id="bg-music" loop preload="auto">
            <source src="homepage_assets/sounds/bg_sfx.mp3" type="audio/mpeg" />
        </audio>
        <audio id="flip-sound" preload="auto">
            <source src="homepage_assets/sounds/flip_sfx.mp3" type="audio/mpeg" />
        </audio>
        <audio id="click-sound" src="homepage_assets/sounds/click.ogg" preload="auto"></audio>

        <!-- SCRIPT (MUST BE AFTER AUDIO) -->
        <script>
            // === AUDIO ELEMENTS ===
            const bgMusic = document.getElementById("bg-music");
            const flipSound = document.getElementById("flip-sound");
            const clickSound = document.getElementById("click-sound");
            let isMusicPlaying = false;

            // === SOUND FUNCTIONS ===
            function playClick() {
                clickSound.currentTime = 0;
                clickSound.play().catch(e => console.log("Click play error:", e));
            }

            function playFlip() {
                flipSound.currentTime = 0;
                flipSound.play().catch(e => console.log("Flip play error:", e));
            }

            function startMusic() {
                if (!isMusicPlaying) {
                    bgMusic.volume = 0.3;
                    bgMusic
                        .play()
                        .then(() => {
                            isMusicPlaying = true;
                            console.log("BGM started");
                        })
                        .catch(err => {
                            console.log("BGM blocked:", err);
                        });
                }
            }

            // === AUTO-START BGM ON FIRST CLICK ===
            document.addEventListener("click", startMusic, { once: true });

            // === PAUSE BGM WHEN TAB IS HIDDEN ===
            document.addEventListener("visibilitychange", () => {
                if (document.hidden) {
                    if (isMusicPlaying) {
                        bgMusic.pause();
                        console.log("BGM paused (tab hidden)");
                    }
                } else {
                    if (isMusicPlaying) {
                        bgMusic.play().catch(() => {});
                        console.log("BGM resumed (tab active)");
                    }
                }
            });

            // === DOM READY ===
            document.addEventListener("DOMContentLoaded", () => {
                console.log("DOM loaded");

                // === PLAY BUTTON ===
                const playBtn = document.getElementById("play-btn");
                const playScreen = document.getElementById("play-screen");
                const cardsContainer = document.getElementById("cards-container");

                playBtn?.addEventListener("click", () => {
                    playClick();
                    playScreen.classList.add("fade-out");
                    setTimeout(() => {
                        playScreen.style.display = "none";
                        cardsContainer.classList.remove("hidden");
                        requestAnimationFrame(() => cardsContainer.classList.add("show"));
                    }, 600);
                });

                // === CAROUSEL ===
                document.querySelectorAll(".arrow, .dot").forEach(el => {
                    el.addEventListener("click", e => {
                        playClick();
                        const back = e.target.closest(".back");
                        if (!back) return;

                        const slides = back.querySelectorAll(".slide");
                        const images = back.querySelectorAll(".back-image");
                        const dots = back.querySelectorAll(".dot");

                        let current = parseInt(back.querySelector(".slide.active").dataset.index);
                        let next = e.target.classList.contains("arrow")
                            ? (current + (e.target.classList.contains("left") ? -1 : 1) + slides.length) % slides.length
                            : parseInt(e.target.dataset.index);

                        slides.forEach(s => s.classList.remove("active"));
                        images.forEach(i => i.classList.remove("active"));
                        dots.forEach(d => d.classList.remove("active"));

                        slides[next].classList.add("active");
                        images[next].classList.add("active");
                        dots[next].classList.add("active");
                    });
                });

                // === MODAL ===
                const modal = document.getElementById("image-modal");
                const modalImg = document.getElementById("modal-image");
                const closeBtn = document.querySelector(".modal-close");

                if (modal && modalImg && closeBtn) {
                    document.querySelectorAll(".back-image").forEach(img => {
                        img.style.cursor = "zoom-in";
                        img.addEventListener("click", e => {
                            e.stopPropagation();
                            playClick();
                            modal.classList.add("active");
                            modalImg.src = img.src;
                            modalImg.alt = img.alt;
                        });
                    });

                    const closeModal = () => modal.classList.remove("active");
                    closeBtn.onclick = closeModal;
                    modal.onclick = e => e.target === modal && closeModal();
                    document.onkeydown = e => e.key === "Escape" && modal.classList.contains("active") && closeModal();
                }

                // === SPLASH TEXT ===
                const splashes = [
                    "BLOKE WAMPORT!",
                    "Crafting code!",
                    "Click to Flip!",
                    "Est. 2025",
                    "Lalaaa!",
                    "RegginAbacus",
                ];
                const splashEl = document.getElementById("splash");
                if (splashEl) splashEl.textContent = splashes[Math.floor(Math.random() * splashes.length)];

                // === CLICK PHOTO TO FLIP (REPLACES HOVER) ===
                document.querySelectorAll(".member-photo").forEach(photo => {
                    const card = photo.closest("li");
                    let isFlipped = false;

                    photo.addEventListener("click", e => {
                        e.stopPropagation();
                        card.classList.toggle("flipped");
                        playFlip();
                        isFlipped = !isFlipped;
                    });

                    // Auto-unflip when mouse leaves card
                    card.addEventListener("mouseleave", () => {
                        if (isFlipped) {
                            card.classList.remove("flipped");
                            playFlip();
                            isFlipped = false;
                        }
                    });
                });
            });
        </script>
    </body>
</html>
